<!DOCTYPE html>

<html>

<head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js">
        </script>

        <style>
            table {
                border: 1px solid black;
            }
            td, th {
                border: 1px double black;
            }
        </style>
</head>

<body>
    <table id="people">

    </table>

    <script>
        peopleSalary = [
            { "id": "1001", "firstname": "Luke", "lastname": "Skywalker", "company": "Walt Disney", "salary": "40000" },
            { "id": "1002", "firstname": "Tony", "lastname": "Stark", "company": "Marvel", "salary": "1000000" },
            { "id": "1003", "firstname": "Somchai", "lastname": "Jaidee", "company": "Love2work", "salary": "20000" },
            { "id": "1004", "firstname": "Monkey D", "lastname": "Luffee", "company": "One Piece", "salary": "9000000" }
        ]

        $(function () {
            //create field name row
            $('#people').append("<tr class=\"header\"></tr>")

            //create record rows
            for (e in peopleSalary) {
                $('#people').append(`<tr id=\"record${e}\"></tr>`)
            }

            //append field names
            for (field in peopleSalary[0]) {
                if (field !== 'company') {
                    $('.header').append(`<th>${field}</th>`)
                }
            }

            //append record values
            for (i=0; i<peopleSalary.length; i++) {
                for (field in peopleSalary[0]) {
                    if (field !== 'company') {
                        $(`#record${i}`).append(`<td>${peopleSalary[i][field]}</td>`)
                    }
                }
            }

        })
        for (i in peopleSalary[1]) {if (i !== 'company') console.log(i)}
    </script>
</body>

</html>